<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagn√≥stico Financeiro PF & PJ - Descubra Sua Verdade</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1B4332 0%, #2D6A4F 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #52B788, #40916C);
            padding: 30px 25px;
            text-align: center;
            color: white;
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px 25px;
        }
        
        .question-container {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }
        
        .question-container.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2c3e50;
            line-height: 1.4;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .option {
            padding: 15px 20px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 15px;
            line-height: 1.4;
        }
        
        .option:hover {
            background: #D8F3DC;
            border-color: #52B788;
            transform: translateY(-2px);
        }
        
        .option.selected {
            background: #52B788;
            color: white;
            border-color: #40916C;
        }
        
        .progress {
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #52B788, #40916C);
            transition: width 0.3s ease;
            border-radius: 3px;
        }
        
        .progress-text {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin-top: 5px;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #52B788, #40916C);
            color: white;
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(82, 183, 136, 0.4);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .result-container {
            display: none;
            text-align: center;
        }
        
        .result-title {
            font-size: 24px;
            font-weight: 700;
            color: #ff6b6b;
            margin-bottom: 20px;
        }
        
        .result-description {
            background: #fff5f5;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            text-align: left;
            border-left: 5px solid #ff6b6b;
        }
        
        .result-description h3 {
            color: #c53030;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .result-description p {
            color: #2d3748;
            line-height: 1.6;
            margin-bottom: 12px;
        }
        
        .pain-section {
            background: #ffe6e6;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .pain-section h4 {
            color: #d63031;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .solution-section {
            background: #e6f3ff;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid #007bff;
        }
        
        .solution-section h4 {
            color: #0056b3;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .initial-form {
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #52B788;
        }
        
        .warning {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #ffc107;
        }
        
        .restart-btn {
            background: #6c757d;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            margin-top: 20px;
        }

        .admin-panel {
            display: none;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            border: 2px solid #dee2e6;
        }

        .admin-btn {
            background: #343a40;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #dee2e6;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .stat-card h4 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .animal-emoji {
            font-size: 30px;
            margin-bottom: 10px;
        }

        .segment-badge {
            background: #007bff;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }

        .pf-badge { background: #28a745; }
        .pj-badge { background: #fd7e14; }
        .hybrid-badge { background: #6f42c1; }
        
        .cta-section {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #52B788;
        }
        
        .cta-btn {
            background: #52B788;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
        }

        .admin-access {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .admin-access input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            background: #f8f9fa;
        }

        .admin-access input.admin-valid {
            border-color: #52B788;
            background: #d8f3dc;
        }

        .admin-access small {
            color: #666;
            font-size: 12px;
        }

        /* Estilos para o relat√≥rio melhorado */
        .report-section {
            background: white;
            margin: 15px 0;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-left: 6px solid #52B788;
        }

        .report-header {
            background: linear-gradient(135deg, #52B788, #40916C);
            color: white;
            padding: 15px 20px;
            margin: -20px -20px 20px -20px;
            border-radius: 12px 12px 0 0;
        }

        .profile-summary {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 15px;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .profile-emoji {
            font-size: 40px;
            text-align: center;
        }

        .profile-info h4 {
            margin-bottom: 8px;
            color: #2c3e50;
        }

        .characteristics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .characteristic-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #52B788;
        }

        .section-divider {
            height: 2px;
            background: linear-gradient(to right, transparent, #52B788, transparent);
            margin: 25px 0;
        }

        .steps-container {
            background: linear-gradient(135deg, #e8f5e8, #d4edda);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .steps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .step-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-top: 4px solid #52B788;
        }

        .step-number {
            background: #52B788;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí∏ Diagn√≥stico Financeiro</h1>
            <p>Descubra a verdade sobre sua vida financeira</p>
            <small style="opacity: 0.8;">Pessoa F√≠sica ‚Ä¢ Pessoa Jur√≠dica ‚Ä¢ Empres√°rio</small>
        </div>
        
        <div class="content">
            <div id="initialForm" class="initial-form">
                <div class="warning">
                    <strong>‚ö†Ô∏è ATEN√á√ÉO:</strong> Este diagn√≥stico vai revelar verdades desconfort√°veis sobre sua situa√ß√£o financeira. Continue apenas se estiver preparado(a) para encarar a realidade.
                </div>
                
                <div class="form-group">
                    <label for="name">Nome Completo*</label>
                    <input type="text" id="name" required>
                </div>
                
                <div class="form-group">
                    <label for="email">E-mail*</label>
                    <input type="email" id="email" required>
                </div>
                
                <div class="form-group">
                    <label for="phone">Telefone*</label>
                    <input type="tel" id="phone" required>
                </div>

                <div class="form-group">
                    <label for="segment">Segmento*</label>
                    <select id="segment" required onchange="updateIncomeOptions()">
                        <option value="">Selecione seu perfil</option>
                        <option value="PF">üè† Pessoa F√≠sica (CPF)</option>
                        <option value="PJ">üè¢ Pessoa Jur√≠dica (CNPJ)</option>
                        <option value="HYBRID">üë®‚Äçüíº Empres√°rio/Profissional Liberal (ambos)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="age">Idade*</label>
                    <select id="age" required>
                        <option value="">Selecione</option>
                        <option value="18-25">18-25 anos</option>
                        <option value="26-35">26-35 anos</option>
                        <option value="36-45">36-45 anos</option>
                        <option value="46-55">46-55 anos</option>
                        <option value="55+">Mais de 55 anos</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="income" id="incomeLabel">Renda Mensal*</label>
                    <select id="income" required>
                        <option value="">Selecione</option>
                    </select>
                </div>
                
                <button class="btn btn-primary" onclick="startQuiz()" style="width: 100%;">
                    COME√áAR DIAGN√ìSTICO
                </button>
                
                <!-- Campo para acesso admin -->
                <div class="admin-access">
                    <input type="password" id="adminCode" placeholder="C√≥digo de acesso especial..." oninput="checkAdminCode()" autocomplete="off">
                    <small>Para administradores: digite o c√≥digo de acesso</small>
                </div>
            </div>
            
            <div id="quizContainer" style="display: none;">
                <div class="progress">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="progress-text" id="progressText">Pergunta 1 de 10</div>
                
                <div id="questionsContainer"></div>
                
                <div class="nav-buttons">
                    <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>Anterior</button>
                    <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>Pr√≥xima</button>
                </div>
            </div>
            
            <div id="resultContainer" class="result-container">
                <div id="resultContent"></div>
                <button class="restart-btn" onclick="restartQuiz()">Refazer Diagn√≥stico</button>
            </div>

            <!-- Painel Admin -->
            <div id="adminPanel" class="admin-panel">
                <h3>üîß PAINEL ADMINISTRATIVO</h3>
                <div>
                    <button class="admin-btn" onclick="showStats()">üìä Ver Estat√≠sticas</button>
                    <button class="admin-btn" onclick="generateProfileReport()">üìã Relat√≥rio dos Perfis</button>
                    <button class="admin-btn" onclick="exportData()">üíæ Exportar Dados</button>
                    <button class="admin-btn" onclick="generateQRCode()">üì± Gerar QR Code & Link</button>
                    <button class="admin-btn" onclick="clearData()">üóëÔ∏è Limpar Base</button>
                    <button class="admin-btn" onclick="hideAdmin()">‚ùå Fechar</button>
                </div>
                <div id="statsContainer"></div>
            </div>
        </div>
    </div>

    <script>
        // Base de dados local - usar sessionStorage em vez de localStorage para evitar erros
        let diagnosticData = [];
        try {
            const storedData = localStorage.getItem('diagnosticData');
            if (storedData) {
                diagnosticData = JSON.parse(storedData);
            }
        } catch (e) {
            console.log('Erro ao carregar dados:', e);
            diagnosticData = [];
        }
        
        let currentSegment = '';
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let currentUser = {};

        // Perguntas adaptadas para PF e PJ
        const questions = [
            {
                question: {
                    PF: "Como voc√™ descreveria sua situa√ß√£o atual com d√≠vidas?",
                    PJ: "Como est√° a situa√ß√£o financeira da sua empresa com fornecedores e empr√©stimos?",
                    HYBRID: "Como est√° sua situa√ß√£o com d√≠vidas pessoais e empresariais?"
                },
                options: {
                    PF: [
                        { text: "Imposs√≠vel, vivo pagando d√≠vidas", profile: 1 },
                        { text: "Trabalho s√≥ para pagar contas", profile: 2 },
                        { text: "Dependo de fam√≠lia/parceiro para algumas coisas", profile: 7 },
                        { text: "Nunca parei para pensar nisso", profile: 4 },
                        { text: "Se parar de trabalhar, n√£o aguento nem 6 meses", profile: 6 }
                    ],
                    PJ: [
                        { text: "Imposs√≠vel, empresa vive pagando d√≠vidas", profile: 1 },
                        { text: "Empresa s√≥ funciona para pagar custos", profile: 2 },
                        { text: "Dependo de s√≥cios/fam√≠lia para capital", profile: 7 },
                        { text: "Nunca pensei em sustentabilidade", profile: 4 },
                        { text: "Se parar de faturar, empresa quebra em meses", profile: 6 }
                    ],
                    HYBRID: [
                        { text: "Imposs√≠vel dos dois lados, s√≥ pago d√≠vidas", profile: 1 },
                        { text: "Trabalho s√≥ para cobrir custos PF e PJ", profile: 2 },
                        { text: "Dependo de outros para ambos os lados", profile: 7 },
                        { text: "Nunca pensei numa estrat√©gia integrada", profile: 4 },
                        { text: "Se parar, colapsa tudo em poucos meses", profile: 6 }
                    ]
                }
            },
            {
                question: {
                    PF: "O que acontece quando voc√™ recebe seu sal√°rio?",
                    PJ: "O que acontece quando a empresa fatura?",
                    HYBRID: "Como voc√™ administra receitas pessoais e empresariais?"
                },
                options: {
                    PF: [
                        { text: "A maior parte vai para pagar juros e parcelas", profile: 1 },
                        { text: "Pago as contas e sobra muito pouco ou nada", profile: 2 },
                        { text: "Aproveito para comprar algumas coisas que queria", profile: 3 },
                        { text: "Deixo na conta e vou gastando conforme preciso", profile: 4 },
                        { text: "Guardo na poupan√ßa, mas n√£o sei o que fazer depois", profile: 8 }
                    ],
                    PJ: [
                        { text: "A maior parte vai para pagar fornecedores e empr√©stimos", profile: 1 },
                        { text: "Cobre custos operacionais e sobra pouco", profile: 2 },
                        { text: "Aproveito para investir em melhorias na empresa", profile: 3 },
                        { text: "Deixo na conta corrente empresarial", profile: 4 },
                        { text: "Fica na conta empresa, sem aplica√ß√£o", profile: 8 }
                    ],
                    HYBRID: [
                        { text: "Tudo vai para pagar contas pessoais e empresariais", profile: 1 },
                        { text: "Cobre gastos b√°sicos de ambos os lados", profile: 2 },
                        { text: "Invisto hora na empresa, hora em gastos pessoais", profile: 3 },
                        { text: "Deixo misturado, sem separar PF de PJ", profile: 4 },
                        { text: "Guardo sem estrat√©gia clara", profile: 8 }
                    ]
                }
            },
            {
                question: {
                    PF: "Se voc√™ perdesse sua renda hoje, por quanto tempo conseguiria se manter?",
                    PJ: "Se a empresa parasse de faturar hoje, por quanto tempo se manteria?",
                    HYBRID: "Se perdesse todas as receitas hoje, quanto tempo se manteria?"
                },
                options: {
                    PF: [
                        { text: "Nem 1 m√™s, j√° estou no vermelho", profile: 1 },
                        { text: "No m√°ximo 1 m√™s", profile: 2 },
                        { text: "Alguns meses, mas teria que mudar muito meu padr√£o", profile: 6 },
                        { text: "N√£o sei, nunca calculei", profile: 4 },
                        { text: "Tenho reserva, mas s√≥ na poupan√ßa", profile: 5 }
                    ],
                    PJ: [
                        { text: "Nem 1 m√™s, empresa j√° est√° no vermelho", profile: 1 },
                        { text: "No m√°ximo 1 m√™s de opera√ß√£o", profile: 2 },
                        { text: "Alguns meses, mas teria que cortar muito", profile: 6 },
                        { text: "N√£o sei, nunca calculei reservas da empresa", profile: 4 },
                        { text: "Empresa tem caixa, mas mal aplicado", profile: 5 }
                    ],
                    HYBRID: [
                        { text: "Nem 1 m√™s em nenhum dos lados", profile: 1 },
                        { text: "No m√°ximo 1 m√™s total", profile: 2 },
                        { text: "Alguns meses mas com grandes cortes", profile: 6 },
                        { text: "Nunca calculei reservas integradas", profile: 4 },
                        { text: "Tenho reservas mas desorganizadas", profile: 5 }
                    ]
                }
            },
            {
                question: {
                    PF: "Como voc√™ se sente em rela√ß√£o a investimentos pessoais?",
                    PJ: "Como a empresa trata reservas e investimentos?",
                    HYBRID: "Como voc√™ encara investimentos pessoais e empresariais?"
                },
                options: {
                    PF: [
                        { text: "N√£o tenho dinheiro nem para pensar nisso", profile: 1 },
                        { text: "Gostaria de investir, mas n√£o sobra nada", profile: 2 },
                        { text: "Prefiro gastar com coisas que me fazem feliz agora", profile: 3 },
                        { text: "Tenho medo de perder dinheiro", profile: 5 },
                        { text: "Tenho dinheiro mas fico paralisado sem saber onde aplicar", profile: 8 }
                    ],
                    PJ: [
                        { text: "A empresa n√£o tem recursos para investir", profile: 1 },
                        { text: "Gostaria de formar reservas, mas n√£o sobra", profile: 2 },
                        { text: "Prefiro reinvestir em crescimento da empresa", profile: 3 },
                        { text: "Tenho medo de aplica√ß√µes arriscadas", profile: 5 },
                        { text: "Empresa tem dinheiro mas sem estrat√©gia de aplica√ß√£o", profile: 8 }
                    ],
                    HYBRID: [
                        { text: "Nem PF nem PJ tem dinheiro para investir", profile: 1 },
                        { text: "Quero investir mas n√£o sobra de nenhum lado", profile: 2 },
                        { text: "Foco s√≥ no crescimento do neg√≥cio", profile: 3 },
                        { text: "Medo de perder tanto pessoal quanto empresarial", profile: 5 },
                        { text: "Tenho recursos mas sem estrat√©gia clara", profile: 8 }
                    ]
                }
            },
            {
                question: {
                    PF: "Sua maior dor financeira pessoal hoje √©:",
                    PJ: "A maior dor financeira da empresa hoje √©:",
                    HYBRID: "Sua maior dor financeira integrada √©:"
                },
                options: {
                    PF: [
                        { text: "Os juros que consomem minha renda todo m√™s", profile: 1 },
                        { text: "Viver sempre na corda bamba, sem seguran√ßa", profile: 2 },
                        { text: "Me arrepender das compras e n√£o conseguir parar", profile: 3 },
                        { text: "A ansiedade de n√£o saber minha real situa√ß√£o", profile: 4 },
                        { text: "Ver meu dinheiro parado perdendo para a infla√ß√£o", profile: 5 }
                    ],
                    PJ: [
                        { text: "Juros e custos financeiros consomem o faturamento", profile: 1 },
                        { text: "Fluxo de caixa sempre no limite", profile: 2 },
                        { text: "Investimentos impulsivos que n√£o d√£o retorno", profile: 3 },
                        { text: "N√£o saber a real situa√ß√£o financeira da empresa", profile: 4 },
                        { text: "Dinheiro da empresa parado rendendo pouco", profile: 5 }
                    ],
                    HYBRID: [
                        { text: "Juros de todos os lados consumindo tudo", profile: 1 },
                        { text: "Viver no limite tanto pessoal quanto empresarial", profile: 2 },
                        { text: "Decis√µes impulsivas que prejudicam ambos", profile: 3 },
                        { text: "Ansiedade por n√£o ter controle de nada", profile: 4 },
                        { text: "Recursos mal aplicados dos dois lados", profile: 5 }
                    ]
                }
            },
            {
                question: {
                    PF: "Qual sua rea√ß√£o diante de uma emerg√™ncia financeira (R$ 5.000)?",
                    PJ: "Como a empresa reagiria a uma necessidade urgente de capital (R$ 15.000)?",
                    HYBRID: "Como voc√™ lidaria com emerg√™ncias pessoais ou empresariais?"
                },
                options: {
                    PF: [
                        { text: "Teria que parcelar no cart√£o ou pegar empr√©stimo", profile: 1 },
                        { text: "Seria um desastre total, n√£o tenho reserva", profile: 2 },
                        { text: "Comprometeria meus planos de compras", profile: 3 },
                        { text: "Nem sei quanto tenho dispon√≠vel", profile: 4 },
                        { text: "Tenho o dinheiro, mas na poupan√ßa rendendo pouco", profile: 5 }
                    ],
                    PJ: [
                        { text: "Empresa teria que recorrer a empr√©stimos caros", profile: 1 },
                        { text: "Seria catastr√≥fico, sem reserva de emerg√™ncia", profile: 2 },
                        { text: "Comprometeria investimentos planejados", profile: 3 },
                        { text: "N√£o sei exatamente quanto a empresa tem dispon√≠vel", profile: 4 },
                        { text: "Empresa tem dinheiro, mas mal aplicado", profile: 5 }
                    ],
                    HYBRID: [
                        { text: "Teria que misturar recursos ou se endividar", profile: 1 },
                        { text: "Seria ca√≥tico tanto pessoal quanto empresarial", profile: 2 },
                        { text: "Atrapalharia planos de ambos os lados", profile: 3 },
                        { text: "N√£o tenho controle claro dos dois lados", profile: 4 },
                        { text: "Tenho recursos mas desorganizados", profile: 5 }
                    ]
                }
            },
            {
                question: {
                    PF: "Em rela√ß√£o ao seu futuro financeiro:",
                    PJ: "Em rela√ß√£o ao futuro da empresa:",
                    HYBRID: "Seu futuro financeiro integrado:"
                },
                options: {
                    PF: [
                        { text: "S√≥ consigo pensar em sobreviver ao pr√≥ximo m√™s", profile: 1 },
                        { text: "Planejo aposentadoria mas n√£o consigo poupar", profile: 2 },
                        { text: "Quero liberdade para aproveitar a vida", profile: 3 },
                        { text: "Evito pensar no futuro financeiro", profile: 4 },
                        { text: "Quero multiplicar meu patrim√¥nio", profile: 6 }
                    ],
                    PJ: [
                        { text: "S√≥ penso em manter a empresa funcionando", profile: 1 },
                        { text: "Quero expans√£o mas n√£o consigo investir", profile: 2 },
                        { text: "Busco crescimento e mais market share", profile: 3 },
                        { text: "Evito planejar o futuro empresarial", profile: 4 },
                        { text: "Quero multiplicar o valor da empresa", profile: 6 }
                    ],
                    HYBRID: [
                        { text: "S√≥ consigo manter tudo funcionando", profile: 1 },
                        { text: "Quero crescer mas n√£o tenho recursos", profile: 2 },
                        { text: "Busco liberdade pessoal e empresarial", profile: 3 },
                        { text: "Evito planejar qualquer futuro", profile: 4 },
                        { text: "Quero multiplicar patrim√¥nio total", profile: 6 }
                    ]
                }
            },
            {
                question: {
                    PF: "Suas compras pessoais s√£o motivadas por:",
                    PJ: "Os investimentos da empresa s√£o motivados por:",
                    HYBRID: "Suas decis√µes de gastos (PF/PJ) s√£o motivadas por:"
                },
                options: {
                    PF: [
                        { text: "Necessidade b√°sica (mal consigo pagar o essencial)", profile: 1 },
                        { text: "Necessidade real, mas sem folga", profile: 2 },
                        { text: "Impulso emocional e desejo de status", profile: 3 },
                        { text: "N√£o planejo, compro conforme aparece", profile: 4 },
                        { text: "Status profissional e apar√™ncia de sucesso", profile: 9 }
                    ],
                    PJ: [
                        { text: "Necessidade operacional b√°sica", profile: 1 },
                        { text: "Necessidades reais mas or√ßamento apertado", profile: 2 },
                        { text: "Impulso de crescimento e impressionar clientes", profile: 3 },
                        { text: "N√£o planejo, compro conforme surge demanda", profile: 4 },
                        { text: "Status empresarial e imagem de sucesso", profile: 9 }
                    ],
                    HYBRID: [
                        { text: "Necessidades b√°sicas de ambos os lados", profile: 1 },
                        { text: "Necessidades reais mas sem folga", profile: 2 },
                        { text: "Impulso e status tanto pessoal quanto empresarial", profile: 3 },
                        { text: "N√£o planejo, decido conforme aparece", profile: 4 },
                        { text: "Status e apar√™ncia de sucesso em ambos", profile: 9 }
                    ]
                }
            },
            {
                question: {
                    PF: "Sobre sua independ√™ncia financeira:",
                    PJ: "Sobre a sustentabilidade da empresa:",
                    HYBRID: "Sobre sua independ√™ncia financeira total:"
                },
                options: {
                    PF: [
                        { text: "Estou completamente dependente do sal√°rio", profile: 2 },
                        { text: "Preciso da ajuda de outros para me sustentar", profile: 7 },
                        { text: "Tenho renda, mas sem reservas para emerg√™ncias", profile: 6 },
                        { text: "N√£o sei calcular minha independ√™ncia", profile: 4 },
                        { text: "Tenho dinheiro mas n√£o sei multiplicar", profile: 8 }
                    ],
                    PJ: [
                        { text: "Empresa depende 100% do faturamento mensal", profile: 2 },
                        { text: "Preciso de s√≥cios/investidores para manter", profile: 7 },
                        { text: "Faturamos bem mas sem reservas", profile: 6 },
                        { text: "N√£o sei calcular sustentabilidade real", profile: 4 },
                        { text: "Empresa tem recursos mas n√£o cresce", profile: 8 }
                    ],
                    HYBRID: [
                        { text: "Dependente total das receitas mensais", profile: 2 },
                        { text: "Preciso de ajuda nos dois lados", profile: 7 },
                        { text: "Receitas boas mas sem reservas", profile: 6 },
                        { text: "N√£o sei minha real independ√™ncia", profile: 4 },
                        { text: "Recursos dispon√≠veis mas sem crescimento", profile: 8 }
                    ]
                }
            },
            {
                question: {
                    PF: "Como voc√™ descreveria seu n√≠vel de controle financeiro?",
                    PJ: "Como descreveria o controle financeiro da empresa?",
                    HYBRID: "Seu controle financeiro integrado (PF/PJ) √©:"
                },
                options: {
                    PF: [
                        { text: "Perdido completamente, n√£o sei mais o que devo", profile: 1 },
                        { text: "Tento controlar mas sempre estoura o or√ßamento", profile: 2 },
                        { text: "Controlo pouco, sou muito impulsivo", profile: 3 },
                        { text: "Evito olhar minha situa√ß√£o real", profile: 4 },
                        { text: "Organizado mas sem objetivos claros", profile: 10 }
                    ],
                    PJ: [
                        { text: "Perdemos controle do fluxo de caixa", profile: 1 },
                        { text: "Tentamos controlar mas sempre estoura", profile: 2 },
                        { text: "Pouco controle, investimos por impulso", profile: 3 },
                        { text: "Evitamos an√°lises profundas", profile: 4 },
                        { text: "Bem organizado mas sem estrat√©gia", profile: 10 }
                    ],
                    HYBRID: [
                        { text: "Controle perdido nos dois lados", profile: 1 },
                        { text: "Tento mas sempre extrapolo", profile: 2 },
                        { text: "Pouco controle, muito impulso", profile: 3 },
                        { text: "Evito an√°lise profunda de ambos", profile: 4 },
                        { text: "Organizado mas sem integra√ß√£o estrat√©gica", profile: 10 }
                    ]
                }
            }
        ];

        // Perfis completos
        const profiles = {
            1: {
                title: "üåÄ CARACOL ENDIVIDADO",
                emoji: "üåÄ",
                subtitle: {
                    PF: "Voc√™ est√° sufocando em d√≠vidas pessoais",
                    PJ: "Sua empresa est√° sufocando em d√≠vidas",
                    HYBRID: "Voc√™ est√° sufocando em d√≠vidas pessoais e empresariais"
                },
                description: {
                    PF: "Voc√™ vive em um ciclo vicioso de d√≠vidas que consome sua renda todos os meses. Os juros do cart√£o, cheque especial e empr√©stimos s√£o como sanguessugas sugando seu dinheiro.",
                    PJ: "Sua empresa vive em um ciclo vicioso de d√≠vidas que consome todo o faturamento. Juros banc√°rios, fornecedores em atraso e custos financeiros drenam o caixa empresarial.",
                    HYBRID: "Voc√™ vive um duplo ciclo vicioso: d√≠vidas pessoais E empresariais que se retroalimentam, consumindo recursos dos dois lados."
                },
                pain: {
                    PF: "A cada m√™s, voc√™ trabalha apenas para enriquecer os bancos. Seus juros consomem at√© 40% da sua renda. Voc√™ sente que JAMAIS conseguir√° 'come√ßar do zero' e que est√° condenado a essa vida de devedor eterno.",
                    PJ: "A cada m√™s, sua empresa trabalha apenas para pagar juros banc√°rios. Os custos financeiros consomem at√© 30% do faturamento. A empresa nunca consegue formar caixa para crescer.",
                    HYBRID: "Voc√™ trabalha s√≥ para alimentar um monstro de duas cabe√ßas: d√≠vidas pessoais E empresariais que se multiplicam. Vive uma dupla pris√£o financeira."
                },
                solution: {
                    PF: "Precisa de um plano de amortiza√ß√£o estrat√©gico para sair do vermelho e recuperar sua dignidade financeira. Reorganiza√ß√£o de d√≠vidas, negocia√ß√£o de juros e cria√ß√£o de um or√ßamento realista s√£o fundamentais.",
                    PJ: "Necessita de reestrutura√ß√£o empresarial completa: renegocia√ß√£o com fornecedores, otimiza√ß√£o do fluxo de caixa e cria√ß√£o de reservas de emerg√™ncia para voltar a crescer.",
                    HYBRID: "Requer um plano integrado de recupera√ß√£o que alinhe estrat√©gias pessoais e empresariais, criando sinergias entre os dois lados para acelerar a sa√≠da do vermelho."
                },
                steps: ["Auditoria completa das d√≠vidas", "Renegocia√ß√£o estrat√©gica", "Plano de amortiza√ß√£o", "Cria√ß√£o de reserva emergencial"]
            },
            2: {
                title: "üêπ HAMSTER NA RODA",
                emoji: "üêπ", 
                subtitle: {
                    PF: "Voc√™ vive de sal√°rio em sal√°rio sem folga",
                    PJ: "Empresa vive de faturamento em faturamento",
                    HYBRID: "Voc√™ vive de receita em receita nos dois lados"
                },
                description: {
                    PF: "Todo m√™s √© a mesma hist√≥ria: recebe, paga contas, e sobra quase nada. Qualquer imprevisto vira pesadelo e mais d√≠vida.",
                    PJ: "Todo m√™s √© igual: fatura, paga custos operacionais, e sobra pouco ou nada. Qualquer problema vira crise de caixa.",
                    HYBRID: "Voc√™ vive uma dupla corrida: receitas pessoais E empresariais que mal cobrem os custos de ambos os lados."
                },
                pain: {
                    PF: "Voc√™ vive com ZERO seguran√ßa financeira. Uma consulta m√©dica, um pneu furado, um eletrodom√©stico quebrado e pronto: voc√™ est√° no vermelho.",
                    PJ: "Sua empresa vive com ZERO reserva. Um cliente inadimplente, um equipamento quebrado, uma multa fiscal e pronto: crise de caixa.",
                    HYBRID: "Voc√™ vive em dupla inseguran√ßa: qualquer problema pessoal OU empresarial pode derrubar tudo como um castelo de cartas."
                },
                solution: {
                    PF: "Precisa quebrar o ciclo vicioso criando uma almofada financeira. Otimiza√ß√£o de gastos, aumento de renda e forma√ß√£o gradual de reservas s√£o essenciais.",
                    PJ: "Necessita de um sistema robusto de gest√£o de fluxo de caixa, diversifica√ß√£o de receitas e forma√ß√£o de capital de giro para estabilidade.",
                    HYBRID: "Requer integra√ß√£o inteligente das finan√ßas pessoais e empresariais, criando m√∫ltiplas fontes de seguran√ßa e estabilidade."
                },
                steps: ["Mapeamento de gastos", "Cria√ß√£o de or√ßamento", "Forma√ß√£o de reserva", "Diversifica√ß√£o de receitas"]
            },
            3: {
                title: "üêí MACAQUINHO IMPULSIVO",
                emoji: "üêí",
                subtitle: {
                    PF: "Suas emo√ß√µes controlam seu dinheiro",
                    PJ: "Decis√µes empresariais por impulso",
                    HYBRID: "Impulsividade financeira total"
                },
                description: {
                    PF: "Voc√™ compra para se sentir bem, para impressionar, para compensar frustra√ß√µes. Suas compras s√£o movidas por impulso e busca de status.",
                    PJ: "Sua empresa investe por impulso: equipamentos caros, expans√µes sem planejamento, gastos para impressionar clientes.",
                    HYBRID: "Voc√™ √© impulsivo nos dois lados: gastos pessoais descontrolados E investimentos empresariais sem crit√©rio."
                },
                pain: {
                    PF: "Voc√™ sente uma culpa CONSTANTE ap√≥s as compras. Seu cart√£o est√° sempre no limite, voc√™ mente sobre gastos para fam√≠lia/parceiro.",
                    PJ: "Voc√™ se arrepende de investimentos empresariais constantes. A empresa gasta em status mas n√£o em resultados efetivos.",
                    HYBRID: "Duplo arrependimento: gastos pessoais E empresariais que drenam recursos sem gerar valor real."
                },
                solution: {
                    PF: "Necessita de controle emocional sobre o dinheiro e redirecionamento da energia para investimentos que geram retorno real ao inv√©s de satisfa√ß√£o moment√¢nea.",
                    PJ: "Precisa de crit√©rios objetivos para investimentos empresariais baseados em ROI mensur√°vel e planejamento estrat√©gico.",
                    HYBRID: "Requer desenvolvimento de disciplina financeira integrada com foco em resultados ao inv√©s de impulsos emocionais."
                },
                steps: ["Identifica√ß√£o de gatilhos", "Cria√ß√£o de crit√©rios objetivos", "Pausa obrigat√≥ria nas decis√µes", "Foco em ROI real"]
            },
            4: {
                title: "üêà GATO DOM√âSTICO",
                emoji: "üêà",
                subtitle: {
                    PF: "Voc√™ foge da pr√≥pria realidade financeira",
                    PJ: "Voc√™ foge da realidade financeira da empresa",
                    HYBRID: "Voc√™ foge de toda realidade financeira"
                },
                description: {
                    PF: "Voc√™ evita abrir extratos, n√£o organiza documentos, n√£o enfrenta sua situa√ß√£o financeira. Prefere n√£o saber a verdade.",
                    PJ: "Voc√™ evita relat√≥rios financeiros, n√£o acompanha indicadores, deixa tudo para o contador. Prefere n√£o saber a real situa√ß√£o.",
                    HYBRID: "Voc√™ foge tanto das finan√ßas pessoais quanto empresariais. Vive numa bolha de ignor√¢ncia financeira dupla."
                },
                pain: {
                    PF: "Voc√™ vive na ansiedade CONSTANTE do desconhecido. Multas por atraso, surpresas desagrad√°veis, decis√µes sempre em cima da hora.",
                    PJ: "Ansiedade constante sobre a real situa√ß√£o da empresa. Surpresas fiscais, problemas de fluxo descobertos tarde demais.",
                    HYBRID: "Dupla ansiedade: voc√™ n√£o sabe nem como est√° pessoalmente nem empresarialmente. Vive dirigindo de olhos fechados nos dois lados."
                },
                solution: {
                    PF: "Precisa de um sistema organizado e rotinas simples que transformem o caos em controle financeiro gradual e sustent√°vel.",
                    PJ: "Necessita de dashboards simples e rotinas de acompanhamento que deem visibilidade clara da sa√∫de empresarial.",
                    HYBRID: "Requer um sistema integrado de controle que organize e monitore tanto finan√ßas pessoais quanto empresariais de forma unificada."
                },
                steps: ["Organiza√ß√£o de documentos", "Cria√ß√£o de rotinas simples", "Dashboards visuais", "Acompanhamento regular"]
            },
            5: {
                title: "üê¢ TARTARUGA CONSERVADORA",
                emoji: "üê¢",
                subtitle: {
                    PF: "Voc√™ est√° perdendo dinheiro 'guardando' dinheiro",
                    PJ: "Empresa perde dinheiro com excesso de conservadorismo",
                    HYBRID: "Conservadorismo excessivo nos dois lados"
                },
                description: {
                    PF: "Voc√™ tem o h√°bito de guardar, mas deixa tudo na poupan√ßa ou renda fixa muito conservadora. Tem pavor de 'perder' dinheiro investindo.",
                    PJ: "A empresa guarda recursos mas em aplica√ß√µes muito conservadoras. Perde oportunidades de crescimento por excesso de cautela.",
                    HYBRID: "Voc√™ √© ultraconservador nos dois lados: dinheiro pessoal E empresarial rendendo abaixo do potencial."
                },
                pain: {
                    PF: "Voc√™ est√° PERDENDO DINHEIRO todos os meses para a infla√ß√£o. Seu poder de compra diminui constantemente.",
                    PJ: "A empresa perde competitividade por n√£o investir em crescimento. Concorrentes crescem enquanto voc√™s estagnam.",
                    HYBRID: "Dupla perda: patrim√¥nio pessoal E empresarial corro√≠dos pela infla√ß√£o e falta de ousadia controlada."
                },
                solution: {
                    PF: "Precisa de educa√ß√£o financeira para investimentos seguros mas rent√°veis, saindo gradualmente da paralisia do medo excessivo.",
                    PJ: "Necessita de estrat√©gia de crescimento controlado que combine seguran√ßa com rentabilidade empresarial adequada.",
                    HYBRID: "Requer balanceamento inteligente entre conservadorismo e crescimento tanto pessoal quanto empresarial."
                },
                steps: ["Educa√ß√£o sobre risco x retorno", "Diversifica√ß√£o gradual", "Metas de rentabilidade", "Crescimento controlado"]
            },
            6: {
                title: "üêé CAVALO DE CORRIDA",
                emoji: "üêé",
                subtitle: {
                    PF: "Alta renda, baixa intelig√™ncia financeira",
                    PJ: "Alto faturamento, baixa rentabilidade",
                    HYBRID: "Alta receita, baixa acumula√ß√£o patrimonial"
                },
                description: {
                    PF: "Voc√™ ganha bem, mas gasta proporcionalmente. Se parar de trabalhar, n√£o aguenta nem poucos meses. Vive uma vida cara sem construir patrim√¥nio.",
                    PJ: "Empresa fatura bem mas n√£o acumula. Gasta tudo em opera√ß√£o e status empresarial. Se parar de vender, quebra r√°pido.",
                    HYBRID: "Voc√™ tem alta capacidade de gera√ß√£o de renda nos dois lados, mas n√£o acumula patrim√¥nio nem reservas."
                },
                pain: {
                    PF: "Voc√™ tem uma falsa sensa√ß√£o de seguran√ßa PERIGOS√çSSIMA. Amigos acham que voc√™ est√° bem, mas voc√™ sabe que est√° na corda bamba.",
                    PJ: "A empresa parece pr√≥spera por fora, mas internamente vive no limite. Um m√™s sem faturamento seria catastr√≥fico.",
                    HYBRID: "Dupla falsa sensa√ß√£o de seguran√ßa: parecem pr√≥speros mas est√£o vulner√°veis nos dois lados."
                },
                solution: {
                    PF: "Precisa converter alta renda em patrim√¥nio s√≥lido atrav√©s de investimentos inteligentes e controle de lifestyle inflation.",
                    PJ: "Necessita transformar alto faturamento em lucro real, reservas empresariais e distribui√ß√£o de dividendos.",
                    HYBRID: "Requer otimiza√ß√£o da alta capacidade de gera√ß√£o de renda para constru√ß√£o de patrim√¥nio s√≥lido integrado."
                },
                steps: ["Controle de lifestyle inflation", "Automatiza√ß√£o de investimentos", "Cria√ß√£o de m√∫ltiplas fontes", "Constru√ß√£o patrimonial"]
            },
            7: {
                title: "üê£ FILHOTE NO NINHO",
                emoji: "üê£",
                subtitle: {
                    PF: "Sua seguran√ßa financeira depende de outros",
                    PJ: "Empresa depende de terceiros para sustenta√ß√£o",
                    HYBRID: "Depend√™ncia financeira nos dois lados"
                },
                description: {
                    PF: "Voc√™ n√£o tem autonomia financeira completa, depende do parceiro ou fam√≠lia para sustento ou decis√µes financeiras importantes.",
                    PJ: "Empresa depende de s√≥cios, fam√≠lia ou investidores para capital de giro e decis√µes estrat√©gicas.",
                    HYBRID: "Voc√™ vive em dupla depend√™ncia: pessoal E empresarial de terceiros para sustenta√ß√£o financeira."
                },
                pain: {
                    PF: "Voc√™ vive com medo constante: 'E se acontecer algo com quem me sustenta?' Div√≥rcio, doen√ßa, morte - qualquer coisa pode acabar com sua seguran√ßa.",
                    PJ: "Medo constante de perder apoio dos s√≥cios/investidores. A empresa n√£o sobrevive sem suporte externo.",
                    HYBRID: "Duplo medo: perder apoio pessoal E empresarial simultaneamente. Vulnerabilidade extrema nos dois lados."
                },
                solution: {
                    PF: "Precisa desenvolver habilidades e fontes de renda pr√≥prias para conquistar independ√™ncia financeira e dignidade pessoal.",
                    PJ: "Necessita criar sustentabilidade pr√≥pria da empresa, reduzindo depend√™ncia de capital externo atrav√©s de efici√™ncia operacional.",
                    HYBRID: "Requer desenvolvimento de independ√™ncia financeira gradual nos dois lados, criando autonomia sustent√°vel."
                },
                steps: ["Desenvolvimento de habilidades", "Cria√ß√£o de renda pr√≥pria", "Redu√ß√£o gradual de depend√™ncia", "Constru√ß√£o de autonomia"]
            },
            8: {
                title: "ü¶â CORUJINHA T√çMIDA",
                emoji: "ü¶â",
                subtitle: {
                    PF: "Tem dinheiro mas est√° travado pelo medo",
                    PJ: "Empresa tem capital mas paralisia de investimento",
                    HYBRID: "Recursos dispon√≠veis mas paralisado nos dois lados"
                },
                description: {
                    PF: "Voc√™ conseguiu acumular recursos, mas est√° paralisado pelo medo de investir. Fica na an√°lise eterna sem nunca agir.",
                    PJ: "A empresa tem caixa mas n√£o investe por medo. Paralisia por excesso de an√°lise e falta de a√ß√£o estrat√©gica.",
                    HYBRID: "Voc√™ tem recursos nos dois lados mas est√° paralisado pelo medo de tomar decis√µes de investimento."
                },
                pain: {
                    PF: "Voc√™ sente uma frustra√ß√£o CONSTANTE de saber que deveria fazer algo com seu dinheiro, mas a paralisia te impede.",
                    PJ: "Frustra√ß√£o de ver oportunidades passarem enquanto a empresa fica parada por excesso de cautela e an√°lise.",
                    HYBRID: "Dupla frustra√ß√£o: oportunidades perdidas tanto pessoais quanto empresariais por paralisia excessiva."
                },
                solution: {
                    PF: "Precisa de confian√ßa e metodologia simples para come√ßar a investir de forma segura, superando a paralisia por an√°lise.",
                    PJ: "Necessita de crit√©rios objetivos de investimento que reduzam incertezas e facilitem tomada de decis√£o empresarial.",
                    HYBRID: "Requer framework de decis√£o estruturado que d√™ seguran√ßa para investir e crescer nos dois lados."
                },
                steps: ["Supera√ß√£o da paralisia", "Crit√©rios de decis√£o", "Primeiros passos seguros", "Constru√ß√£o de confian√ßa"]
            },
            9: {
                title: "üêú FORMIGUINHA INCANS√ÅVEL",
                emoji: "üêú",
                subtitle: {
                    PF: "Trabalha muito, gasta tudo, n√£o constr√≥i nada",
                    PJ: "Empresa trabalha muito, reinveste tudo, n√£o acumula",
                    HYBRID: "Trabalho excessivo sem acumula√ß√£o patrimonial"
                },
                description: {
                    PF: "Voc√™ foca apenas em ganhar mais como solu√ß√£o, mas usa toda renda extra para sustentar um estilo de vida caro e impressionar outros.",
                    PJ: "Empresa foca s√≥ em faturar mais, mas reinveste tudo em opera√ß√£o/crescimento sem formar reservas ou distribuir lucros.",
                    HYBRID: "Voc√™ trabalha excessivamente nos dois lados mas n√£o acumula patrim√¥nio nem reservas."
                },
                pain: {
                    PF: "Voc√™ est√° se MATANDO de trabalhar para sustentar apar√™ncias. Trabalha mais de 12h por dia mas seu patrim√¥nio n√£o cresce.",
                    PJ: "A empresa consome toda energia dos s√≥cios. Fatura muito mas n√£o gera riqueza real para os propriet√°rios.",
                    HYBRID: "Voc√™ vive uma dupla exaust√£o: trabalho pessoal E empresarial intenso sem acumula√ß√£o patrimonial real."
                },
                solution: {
                    PF: "Precisa trabalhar de forma mais inteligente, focando em efici√™ncia e convers√£o de esfor√ßo em patrim√¥nio ao inv√©s de apar√™ncias.",
                    PJ: "Necessita criar sistemas para que a empresa gere riqueza real para os s√≥cios, n√£o apenas movimento financeiro.",
                    HYBRID: "Requer otimiza√ß√£o do trabalho nos dois lados com foco na constru√ß√£o de patrim√¥nio duradouro."
                },
                steps: ["Otimiza√ß√£o de produtividade", "Foco em patrim√¥nio vs apar√™ncia", "Sistemas de acumula√ß√£o", "Trabalho inteligente"]
            },
            10: {
                title: "ü§ñ ROB√î ORGANIZADINHO",
                emoji: "ü§ñ",
                subtitle: {
                    PF: "Tem controle mas n√£o tem estrat√©gia",
                    PJ: "Empresa organizada mas sem vis√£o",
                    HYBRID: "Organiza√ß√£o sem estrat√©gia integrada"
                },
                description: {
                    PF: "Voc√™ controla bem seus gastos, tem planilhas organizadas, mas n√£o tem objetivos claros nem estrat√©gia de crescimento patrimonial.",
                    PJ: "A empresa tem boa gest√£o financeira e controles, mas falta vis√£o estrat√©gica e planos de crescimento sustent√°vel.",
                    HYBRID: "Voc√™ √© organizado nos dois lados, mas sem uma estrat√©gia integrada que maximize o potencial conjunto."
                },
                pain: {
                    PF: "Voc√™ tem a sensa√ß√£o frustrante de estar 'fazendo tudo certo' mas n√£o est√° saindo do lugar nem crescendo patrim√¥nio.",
                    PJ: "A empresa est√° bem gerida mas estagnou. N√£o consegue dar o pr√≥ximo passo para crescimento exponencial.",
                    HYBRID: "Dupla frustra√ß√£o: organiza√ß√£o sem progress√£o real tanto pessoal quanto empresarial."
                },
                solution: {
                    PF: "Precisa transformar organiza√ß√£o em estrat√©gia de crescimento patrimonial acelerado com objetivos claros e mensur√°veis.",
                    PJ: "Necessita elevar a empresa organizada a um patamar estrat√©gico de crescimento sustent√°vel e escal√°vel.",
                    HYBRID: "Requer cria√ß√£o de estrat√©gia integrada que maximize o potencial organizado dos dois lados simultaneamente."
                },
                steps: ["Defini√ß√£o de objetivos claros", "Estrat√©gia de crescimento", "Maximiza√ß√£o de sinergias", "Acelera√ß√£o patrimonial"]
            }
        };

        // Op√ß√µes de renda por segmento
        const incomeOptions = {
            PF: [
                "At√© R$ 2.000",
                "R$ 2.001 - R$ 4.000",
                "R$ 4.001 - R$ 7.000", 
                "R$ 7.001 - R$ 12.000",
                "R$ 12.001 - R$ 20.000",
                "Mais de R$ 20.000"
            ],
            PJ: [
                "At√© R$ 10.000/m√™s",
                "R$ 10.001 - R$ 30.000/m√™s",
                "R$ 30.001 - R$ 60.000/m√™s",
                "R$ 60.001 - R$ 120.000/m√™s",
                "R$ 120.001 - R$ 300.000/m√™s",
                "Mais de R$ 300.000/m√™s"
            ],
            HYBRID: [
                "At√© R$ 15.000/m√™s total",
                "R$ 15.001 - R$ 40.000/m√™s total",
                "R$ 40.001 - R$ 80.000/m√™s total",
                "R$ 80.001 - R$ 150.000/m√™s total",
                "R$ 150.001 - R$ 400.000/m√™s total",
                "Mais de R$ 400.000/m√™s total"
            ]
        };

        function updateIncomeOptions() {
            const segment = document.getElementById('segment').value;
            const incomeSelect = document.getElementById('income');
            const incomeLabel = document.getElementById('incomeLabel');
            
            incomeSelect.innerHTML = '<option value="">Selecione</option>';
            
            if (segment) {
                currentSegment = segment;
                const options = incomeOptions[segment];
                const label = segment === 'PF' ? 'Renda Mensal*' : 
                             segment === 'PJ' ? 'Faturamento Mensal*' : 
                             'Receita Total Mensal*';
                
                incomeLabel.textContent = label;
                
                options.forEach(option => {
                    const optionElement = document.createElement('option');
                    optionElement.value = option;
                    optionElement.textContent = option;
                    incomeSelect.appendChild(optionElement);
                });
            }
        }

        function startQuiz() {
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const segment = document.getElementById('segment').value;
            const age = document.getElementById('age').value;
            const income = document.getElementById('income').value;

            if (!name || !email || !phone || !segment || !age || !income) {
                alert('Por favor, preencha todos os campos obrigat√≥rios.');
                return;
            }

            currentUser = {
                name, email, phone, segment, age, income,
                timestamp: new Date().toLocaleString()
            };

            document.getElementById('initialForm').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            
            currentQuestionIndex = 0;
            userAnswers = [];
            showQuestion();
        }

        function showQuestion() {
            const container = document.getElementById('questionsContainer');
            const question = questions[currentQuestionIndex];
            const segment = currentUser.segment;
            
            container.innerHTML = `
                <div class="question-container active">
                    <div class="question">${question.question[segment]}</div>
                    <div class="options" id="options-${currentQuestionIndex}">
                        ${question.options[segment].map((option, index) => 
                            `<div class="option" onclick="selectOption(${currentQuestionIndex}, ${index})" data-profile="${option.profile}">
                                ${option.text}
                            </div>`
                        ).join('')}
                    </div>
                </div>
            `;
            
            updateProgress();
            updateNavButtons();
        }

        function selectOption(questionIndex, optionIndex) {
            const options = document.querySelectorAll(`#options-${questionIndex} .option`);
            options.forEach(opt => opt.classList.remove('selected'));
            
            const selectedOption = options[optionIndex];
            selectedOption.classList.add('selected');
            
            const profile = parseInt(selectedOption.dataset.profile);
            userAnswers[questionIndex] = profile;
            
            updateNavButtons();
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                showResult();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
                
                // Reselect previous answer
                if (userAnswers[currentQuestionIndex] !== undefined) {
                    const selectedProfile = userAnswers[currentQuestionIndex];
                    const options = document.querySelectorAll(`#options-${currentQuestionIndex} .option`);
                    options.forEach(option => {
                        if (parseInt(option.dataset.profile) === selectedProfile) {
                            option.classList.add('selected');
                        }
                    });
                }
            }
        }

        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Pergunta ${currentQuestionIndex + 1} de ${questions.length}`;
        }

        function updateNavButtons() {
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            const hasAnswer = userAnswers[currentQuestionIndex] !== undefined;
            document.getElementById('nextBtn').disabled = !hasAnswer;
            
            if (currentQuestionIndex === questions.length - 1) {
                document.getElementById('nextBtn').textContent = 'Ver Resultado';
            } else {
                document.getElementById('nextBtn').textContent = 'Pr√≥xima';
            }
        }

        function calculateProfile() {
            const profileCounts = {};
            userAnswers.forEach(answer => {
                profileCounts[answer] = (profileCounts[answer] || 0) + 1;
            });
            
            let maxCount = 0;
            let dominantProfile = 1;
            
            for (const [profile, count] of Object.entries(profileCounts)) {
                if (count > maxCount) {
                    maxCount = count;
                    dominantProfile = parseInt(profile);
                }
            }
            
            return dominantProfile;
        }

        function showResult() {
            const profileId = calculateProfile();
            const profile = profiles[profileId];
            const segment = currentUser.segment;
            
            // Save data
            const userData = {
                ...currentUser,
                profileId,
                profileTitle: profile.title,
                answers: userAnswers,
                completedAt: new Date().toLocaleString()
            };
            
            diagnosticData.push(userData);
            try {
                localStorage.setItem('diagnosticData', JSON.stringify(diagnosticData));
            } catch (e) {
                console.log('Erro ao salvar dados:', e);
            }
            
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('resultContainer').style.display = 'block';
            
            const resultContent = `
                <div class="result-title">
                    ${profile.emoji} ${profile.title}
                </div>
                
                <div class="result-description">
                    <h3>${profile.subtitle[segment]}</h3>
                    <p>${profile.description[segment]}</p>
                    
                    <div class="pain-section">
                        <h4>üî• SUA DOR REAL:</h4>
                        <p>${profile.pain[segment]}</p>
                    </div>
                    
                    <div class="solution-section">
                        <h4>üí° SUA SOLU√á√ÉO:</h4>
                        <p>${profile.solution[segment]}</p>
                    </div>
                    
                    <div class="steps-container">
                        <h4>üéØ PR√ìXIMOS PASSOS RECOMENDADOS:</h4>
                        <div class="steps-grid">
                            ${profile.steps.map((step, index) => `
                                <div class="step-card">
                                    <div class="step-number">${index + 1}</div>
                                    <div>${step}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('resultContent').innerHTML = resultContent;
        }

        function restartQuiz() {
            document.getElementById('resultContainer').style.display = 'none';
            document.getElementById('initialForm').style.display = 'block';
            
            // Reset form
            document.getElementById('name').value = '';
            document.getElementById('email').value = '';
            document.getElementById('phone').value = '';
            document.getElementById('segment').value = '';
            document.getElementById('age').value = '';
            document.getElementById('income').innerHTML = '<option value="">Selecione</option>';
            document.getElementById('adminCode').value = '';
            document.getElementById('adminPanel').style.display = 'none';
            
            currentQuestionIndex = 0;
            userAnswers = [];
            currentUser = {};
        }

        // Admin functions
        function checkAdminCode() {
            const code = document.getElementById('adminCode').value.trim();
            const adminPanel = document.getElementById('adminPanel');
            const adminInput = document.getElementById('adminCode');
            
            if (code === 'PROSPERAADMIN2024') {
                adminPanel.style.display = 'block';
                adminInput.classList.add('admin-valid');
                adminInput.style.borderColor = '#52B788';
                adminInput.style.backgroundColor = '#d8f3dc';
            } else if (code === '') {
                adminPanel.style.display = 'none';
                adminInput.classList.remove('admin-valid');
                adminInput.style.borderColor = '#ddd';
                adminInput.style.backgroundColor = '#f8f9fa';
            } else {
                adminPanel.style.display = 'none';
                adminInput.classList.remove('admin-valid');
                adminInput.style.borderColor = '#ff6b6b';
                adminInput.style.backgroundColor = '#fff5f5';
            }
        }

        function hideAdmin() {
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('adminCode').value = '';
            document.getElementById('adminCode').classList.remove('admin-valid');
            document.getElementById('adminCode').style.borderColor = '#ddd';
            document.getElementById('adminCode').style.backgroundColor = '#f8f9fa';
        }

        function showStats() {
            const data = diagnosticData;
            const totalUsers = data.length;
            
            // Estat√≠sticas por segmento
            const segmentStats = { PF: 0, PJ: 0, HYBRID: 0 };
            const profileStats = {};
            const ageStats = {};
            const incomeStats = {};
            
            data.forEach(user => {
                segmentStats[user.segment]++;
                
                const profileTitle = user.profileTitle;
                profileStats[profileTitle] = (profileStats[profileTitle] || 0) + 1;
                
                ageStats[user.age] = (ageStats[user.age] || 0) + 1;
                incomeStats[user.income] = (incomeStats[user.income] || 0) + 1;
            });
            
            let statsHtml = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>${totalUsers}</h4>
                        <small>Total de Diagn√≥sticos</small>
                    </div>
                    <div class="stat-card">
                        <h4>${segmentStats.PF}</h4>
                        <small>Pessoa F√≠sica</small>
                    </div>
                    <div class="stat-card">
                        <h4>${segmentStats.PJ}</h4>
                        <small>Pessoa Jur√≠dica</small>
                    </div>
                    <div class="stat-card">
                        <h4>${segmentStats.HYBRID}</h4>
                        <small>H√≠brido</small>
                    </div>
                </div>
                
                <h4 style="margin-top: 20px;">üìä Perfis Mais Comuns:</h4>
                <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px;">
            `;
            
            Object.entries(profileStats)
                .sort(([,a], [,b]) => b - a)
                .slice(0, 5)
                .forEach(([profile, count]) => {
                    const percentage = totalUsers > 0 ? ((count / totalUsers) * 100).toFixed(1) : '0.0';
                    statsHtml += `<div style="margin: 5px 0;">${profile}: ${count} (${percentage}%)</div>`;
                });
            
            statsHtml += '</div>';
            
            document.getElementById('statsContainer').innerHTML = statsHtml;
        }

        function generateProfileReport() {
            const data = diagnosticData;
            let report = '';
            
            // Cabe√ßalho do relat√≥rio
            report += '‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\n';
            report += '‚ïë                    RELAT√ìRIO DE PERFIS FINANCEIROS                       ‚ïë\n';
            report += '‚ïë                        DIAGN√ìSTICO COMPLETO                              ‚ïë\n';
            report += '‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n\n';
            
            report += `üìÖ Data do Relat√≥rio: ${new Date().toLocaleDateString('pt-BR')}\n`;
            report += `üë• Total de Participantes: ${data.length}\n\n`;
            
            // Estat√≠sticas gerais
            const segmentStats = { PF: 0, PJ: 0, HYBRID: 0 };
            const profileStats = {};
            const ageStats = {};
            
            data.forEach(user => {
                segmentStats[user.segment]++;
                profileStats[user.profileTitle] = (profileStats[user.profileTitle] || 0) + 1;
                ageStats[user.age] = (ageStats[user.age] || 0) + 1;
            });
            
            report += '‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n';
            report += '‚îÇ                           ESTAT√çSTICAS GERAIS                          ‚îÇ\n';
            report += '‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n';
            
            report += 'üéØ DISTRIBUI√á√ÉO POR SEGMENTO:\n';
            report += `   ‚Ä¢ Pessoa F√≠sica (PF): ${segmentStats.PF} (${((segmentStats.PF/data.length)*100).toFixed(1)}%)\n`;
            report += `   ‚Ä¢ Pessoa Jur√≠dica (PJ): ${segmentStats.PJ} (${((segmentStats.PJ/data.length)*100).toFixed(1)}%)\n`;
            report += `   ‚Ä¢ H√≠brido (PF+PJ): ${segmentStats.HYBRID} (${((segmentStats.HYBRID/data.length)*100).toFixed(1)}%)\n\n`;
            
            report += 'üì¢ DISTRIBUI√á√ÉO POR FAIXA ET√ÅRIA:\n';
            Object.entries(ageStats).forEach(([age, count]) => {
                report += `   ‚Ä¢ ${age}: ${count} (${((count/data.length)*100).toFixed(1)}%)\n`;
            });
            report += '\n';
            
            // An√°lise dos perfis
            report += '‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n';
            report += '‚îÇ                        AN√ÅLISE DOS PERFIS                              ‚îÇ\n';
            report += '‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n';
            
            const sortedProfiles = Object.entries(profileStats).sort(([,a], [,b]) => b - a);
            
            sortedProfiles.forEach(([profileTitle, count], index) => {
                const percentage = ((count / data.length) * 100).toFixed(1);
                const profileData = Object.values(profiles).find(p => p.title === profileTitle);
                
                report += `${index + 1}¬∫ PERFIL MAIS COMUM:\n`;
                report += `${profileData.emoji} ${profileTitle}\n`;
                report += `üìä Representatividade: ${count} pessoas (${percentage}%)\n\n`;
                
                report += `üí° CARACTER√çSTICAS:\n`;
                report += `   ‚Ä¢ Pessoa F√≠sica: ${profileData.subtitle.PF}\n`;
                report += `   ‚Ä¢ Pessoa Jur√≠dica: ${profileData.subtitle.PJ}\n`;
                report += `   ‚Ä¢ H√≠brido: ${profileData.subtitle.HYBRID}\n\n`;
                
                report += `üî• DOR PRINCIPAL:\n`;
                report += `   ${profileData.pain.PF.substring(0, 200)}...\n\n`;
                
                report += `üíä SOLU√á√ÉO RECOMENDADA:\n`;
                report += `   ${profileData.solution.PF.substring(0, 200)}...\n\n`;
                
                report += `üéØ PR√ìXIMOS PASSOS:\n`;
                profileData.steps.forEach((step, stepIndex) => {
                    report += `   ${stepIndex + 1}. ${step}\n`;
                });
                report += '\n';
                report += '‚îÄ'.repeat(75) + '\n\n';
            });
            
            // Lista detalhada dos participantes
            report += '‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n';
            report += '‚îÇ                     LISTA DETALHADA DE PARTICIPANTES                   ‚îÇ\n';
            report += '‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n';
            
            data.forEach((user, index) => {
                const profileData = profiles[user.profileId];
                const segmentBadge = user.segment === 'PF' ? 'üè† PF' : 
                                   user.segment === 'PJ' ? 'üè¢ PJ' : 'üë®‚Äçüíº HYBRID';
                
                report += `${String(index + 1).padStart(3, '0')}. ${user.name}\n`;
                report += `     üìß ${user.email}\n`;
                report += `     üì± ${user.phone}\n`;
                report += `     ${segmentBadge} | üéÇ ${user.age} | üí∞ ${user.income}\n`;
                report += `     ${profileData.emoji} ${user.profileTitle}\n`;
                report += `     üìÖ Completou em: ${user.completedAt}\n`;
                report += `     üéØ Perfil ID: ${user.profileId}\n\n`;
            });
            
            // Insights e recomenda√ß√µes
            report += '‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n';
            report += '‚îÇ                        INSIGHTS E RECOMENDA√á√ïES                        ‚îÇ\n';
            report += '‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n';
            
            const topProfile = sortedProfiles[0];
            const topProfileData = Object.values(profiles).find(p => p.title === topProfile[0]);
            
            report += `üìà PERFIL DOMINANTE: ${topProfile[0]} (${((topProfile[1]/data.length)*100).toFixed(1)}%)\n\n`;
            
            report += `üéØ ESTRAT√âGIAS RECOMENDADAS PARA O GRUPO:\n`;
            report += `   1. Foco na educa√ß√£o financeira b√°sica\n`;
            report += `   2. Desenvolvimento de controles financeiros\n`;
            report += `   3. Cria√ß√£o de reservas de emerg√™ncia\n`;
            report += `   4. Planejamento de investimentos personalizados\n`;
            report += `   5. Acompanhamento cont√≠nuo e mentoria\n\n`;
            
            report += `üí° OPORTUNIDADES IDENTIFICADAS:\n`;
            if (segmentStats.HYBRID > 0) {
                report += `   ‚Ä¢ ${segmentStats.HYBRID} pessoas com perfil h√≠brido precisam de integra√ß√£o PF/PJ\n`;
            }
            if (segmentStats.PF > segmentStats.PJ) {
                report += `   ‚Ä¢ Foco maior em solu√ß√µes para Pessoa F√≠sica\n`;
            } else {
                report += `   ‚Ä¢ Foco maior em solu√ß√µes empresariais\n`;
            }
            
            report += '\n';
            report += '‚ïê'.repeat(75) + '\n';
            report += `üìä Relat√≥rio gerado automaticamente pelo Sistema de Diagn√≥stico Financeiro\n`;
            report += `üïí ${new Date().toLocaleString('pt-BR')}\n`;
            report += '‚ïê'.repeat(75);
            
            // Download do arquivo
            const blob = new Blob([report], { type: 'text/plain; charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `relatorio_perfis_completo_${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        }

        function exportData() {
            const data = JSON.stringify(diagnosticData, null, 2);
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `dados_diagnostico_${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }

        function generateQRCode() {
            const currentUrl = window.location.href;
            const qrData = {
                url: currentUrl,
                title: 'Diagn√≥stico Financeiro PF & PJ',
                description: 'Descubra sua verdade financeira'
            };
            
            alert(`QR Code e Link de Compartilhamento:

URL: ${currentUrl}

Para gerar QR Code, use um gerador online com esta URL.

T√≠tulo sugerido: "Diagn√≥stico Financeiro PF & PJ"
Descri√ß√£o: "Descubra a verdade sobre sua vida financeira"

Total de diagn√≥sticos realizados: ${diagnosticData.length}`);
        }

        function clearData() {
            if (confirm('ATEN√á√ÉO: Esta a√ß√£o ir√° apagar TODOS os dados salvos. Tem certeza?')) {
                if (confirm('CONFIRMA√á√ÉO FINAL: Todos os diagn√≥sticos ser√£o perdidos. Continuar?')) {
                    try {
                        localStorage.removeItem('diagnosticData');
                        diagnosticData = [];
                        alert('Base de dados limpa com sucesso!');
                        document.getElementById('statsContainer').innerHTML = '';
                    } catch (e) {
                        console.log('Erro ao limpar dados:', e);
                        alert('Erro ao limpar dados. Tente novamente.');
                    }
                }
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateIncomeOptions();
        });
    </script>
</body>
</html>